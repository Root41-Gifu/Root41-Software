# Root41-Software

Root41のソフトウェア開発リポジトリです。

## コーディング規則

Root41のコーディング規則です。といってもそんなに厳密なものではないです。gotoを濫用するなとかそういう当たり前でわかりきったことはもう書きませんでした。だって、そんなの読むだけ時間の無駄でだるいでしょ？

## ファイル構成

`loop()`と`setup()`の両方を含むファイルの名前は`main.cpp`にしてください。というよりPlatformIOを使うと勝手になってるはずです。これはどのファイルがどのファイルを参照しているのかということを分かりやすく示すのに効果的です。

また、関数や変数、クラスの定義などを外部ファイルにて行う場合、`hogehoge.h`と`hogehoge.cpp`を必ずカップルで作成し、フォルダという名の個室に閉じ込め、`main.cpp`の頭で`#include`してください。また外部ファイルに記述する際には必ずインクルードガードをしてください。形式は`#DEF_HOGEHOGE`とします。

## 変数

変数は基本的にクラスで定義する、または関数の中のローカル変数として定義することが推奨されます。クラスに属さないグローバル変数を適用するのは必要最小限にとどめてください。これは変数がどの役割を持っているかを明確にするためです。

また配列を使用する際は、同じ配列内の数値は全て同じ使われ方をすべきです。これは例えば`ball[]`という配列を定義したときに`ball[0]`だけセンサーの番号、`ball[1]`以降はセンサーの値の格納につかうというような、同じ配列内の要素ごとに異なる使い方をすることは認められません。配列の要素一つにだけ偏った愛情を注ぐのはやめましょう。

## 関数

ほぼ同じ機能の関数を実装するときはできるだけオーバーロードしてしまいましょう。同じ機能の別の名前の関数などになるとプログラムを記述する側がいちいち関数名を覚えなくてはいけません。というより僕が覚えられないのでできるだけやめてください。（切実）

また引数に大きな値を入力するときは、できるだけポインタをうまく使ってあげてください。できるだけメモリーを消費しないようにすることはプログラムの高速化につながります。

## クラス

できるだけ、変数と関数は`private:`に仕舞い込んで必要最低限だけ`public:`にするようにしてください。外部からの意図しないアクセスを防ぐことでプログラムの予測不能な動作を避けることができます。見えている必要のないものは隠すべきです。おしゃべり人形の中にある無骨な基板も誰だってあんなグロテスクな光景見なかったことにしておきたいでしょう。それと同じです。

また`private:`に仕舞い込んだ変数と関数名には`_`をつけましょう。単純に分かりやすいからね。

あと、他のクラスに同じ名前の変数があるときは、分かりやすさと意図しない動作を回避するために`this->`をうまく使ってドヤ顔しよう。

## Git関連

コミットは小さなまとまりごとにしてください。もし後からそのまとまりに追加するときは新たにコミットを作成せずに`git commit --amend --no-edit`というチート的な技もあるのでそちらもうまく活用してください。分かりやすくなってればおけです。

ブランチ名は適当にいい感じのやつをつけてください。この辺は開発者が2しかいないので正直なんでもいいです。
